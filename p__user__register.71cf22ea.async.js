(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[803],{17052:function(b){b.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}},3310:function(b,G,s){"use strict";s.r(G),s.d(G,{default:function(){return R}});var P=s(38663),k=s(6999),d=s(92820),N=d.Z,T=s(57663),A=s(60404),H=s(21584),q=H.Z,oe=s(20136),L=s(19181),_=s(34669),M=s(54458),y=s(34792),ee=s(48086),C=s(2824),re=s(47673),x=s(1011),ie=s(43358),O=s(34041),w=s(9715),I=s(41003),Z=s(67294),X=s(21010),r=s(73727),t=s(3182),n=s(94043),o=s.n(n);function v(W){return c.apply(this,arguments)}function c(){return c=(0,t.Z)(o().mark(function W(B){return o().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,X.WY)("/api/register",{method:"POST",data:B}));case 1:case"end":return h.stop()}},W)})),c.apply(this,arguments)}var u=s(17052),l=s.n(u),e=s(85893),i=I.Z.Item,p=O.Z.Option,K=x.Z.Group,j={ok:(0,e.jsx)("div",{className:l().success,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,e.jsx)("div",{className:l().warning,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,e.jsx)("div",{className:l().error,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},z={ok:"success",pass:"normal",poor:"exception"},U=function(){var B=(0,Z.useState)(0),m=(0,C.Z)(B,2),h=m[0],$=m[1],J=(0,Z.useState)(!1),V=(0,C.Z)(J,2),F=V[0],Q=V[1],se=(0,Z.useState)("86"),S=(0,C.Z)(se,2),ue=S[0],le=S[1],ce=(0,Z.useState)(!1),te=(0,C.Z)(ce,2),ve=te[0],de=te[1],fe=!1,Y,he=I.Z.useForm(),pe=(0,C.Z)(he,1),E=pe[0];(0,Z.useEffect)(function(){return function(){clearInterval(Y)}},[Y]);var me=function(){var a=59;$(a),Y=window.setInterval(function(){a-=1,$(a),a===0&&clearInterval(Y)},1e3)},ae=function(){var a=E.getFieldValue("password");return a&&a.length>9?"ok":a&&a.length>5?"pass":"poor"},ne=(0,X.QT)(v,{manual:!0,onSuccess:function(a,f){a.status==="ok"&&(ee.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),X.m8.push({pathname:"/user/register-result",state:{account:f.email}}))}}),ge=ne.loading,ye=ne.run,Ce=function(a){ye(a)},xe=function(a,f){var D=Promise;return f&&f!==E.getFieldValue("password")?D.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):D.resolve()},je=function(a,f){var D=Promise;return f?(F||Q(!!f),de(!ve),f.length<6?D.reject(""):(f&&fe&&E.validateFields(["confirm"]),D.resolve())):(Q(!!f),D.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"))},Fe=function(a){le(a)},Ee=function(){var a=E.getFieldValue("password"),f=ae();return a&&a.length?(0,e.jsx)("div",{className:l()["progress-".concat(f)],children:(0,e.jsx)(M.Z,{status:z[f],className:l().progress,strokeWidth:6,percent:a.length*10>100?100:a.length*10,showInfo:!1})}):null};return(0,e.jsxs)("div",{className:l().main,children:[(0,e.jsx)("h3",{children:"\u6CE8\u518C"}),(0,e.jsxs)(I.Z,{form:E,name:"UserRegister",onFinish:Ce,children:[(0,e.jsx)(i,{name:"mail",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,e.jsx)(x.Z,{size:"large",placeholder:"\u90AE\u7BB1"})}),(0,e.jsx)(L.Z,{getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},content:F&&(0,e.jsxs)("div",{style:{padding:"4px 0"},children:[j[ae()],Ee(),(0,e.jsx)("div",{style:{marginTop:10},children:(0,e.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",visible:F,children:(0,e.jsx)(i,{name:"password",className:E.getFieldValue("password")&&E.getFieldValue("password").length>0&&l().password,rules:[{validator:je}],children:(0,e.jsx)(x.Z,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})}),(0,e.jsx)(i,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:xe}],children:(0,e.jsx)(x.Z,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,e.jsxs)(K,{compact:!0,children:[(0,e.jsxs)(O.Z,{size:"large",value:ue,onChange:Fe,style:{width:"20%"},children:[(0,e.jsx)(p,{value:"86",children:"+86"}),(0,e.jsx)(p,{value:"87",children:"+87"})]}),(0,e.jsx)(i,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,e.jsx)(x.Z,{size:"large",placeholder:"\u624B\u673A\u53F7"})})]}),(0,e.jsxs)(N,{gutter:8,children:[(0,e.jsx)(q,{span:16,children:(0,e.jsx)(i,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,e.jsx)(x.Z,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"})})}),(0,e.jsx)(q,{span:8,children:(0,e.jsx)(A.Z,{size:"large",disabled:!!h,className:l().getCaptcha,onClick:me,children:h?"".concat(h," s"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]}),(0,e.jsxs)(i,{children:[(0,e.jsx)(A.Z,{size:"large",loading:ge,className:l().submit,type:"primary",htmlType:"submit",children:(0,e.jsx)("span",{children:"\u6CE8\u518C"})}),(0,e.jsx)(r.rU,{className:l().login,to:"/user/login",children:(0,e.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})]})]})},R=U},73727:function(b,G,s){"use strict";s.d(G,{rU:function(){return re}});var P=s(43934),k=s(41788),d=s(67294),N=s(97175),T=s(22122),A=s(19756),H=s(2177),q=function(r){(0,k.Z)(t,r);function t(){for(var o,v=arguments.length,c=new Array(v),u=0;u<v;u++)c[u]=arguments[u];return o=r.call.apply(r,[this].concat(c))||this,o.history=(0,N.lX)(o.props),o}var n=t.prototype;return n.render=function(){return d.createElement(P.F0,{history:this.history,children:this.props.children})},t}(d.Component),oe=function(r){(0,k.Z)(t,r);function t(){for(var o,v=arguments.length,c=new Array(v),u=0;u<v;u++)c[u]=arguments[u];return o=r.call.apply(r,[this].concat(c))||this,o.history=(0,N.q_)(o.props),o}var n=t.prototype;return n.render=function(){return d.createElement(P.F0,{history:this.history,children:this.props.children})},t}(d.Component),L=function(t,n){return typeof t=="function"?t(n):t},_=function(t,n){return typeof t=="string"?(0,N.ob)(t,null,null,n):t},M=function(t){return t},y=d.forwardRef;typeof y=="undefined"&&(y=M);function ee(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}var C=y(function(r,t){var n=r.innerRef,o=r.navigate,v=r.onClick,c=(0,A.Z)(r,["innerRef","navigate","onClick"]),u=c.target,l=(0,T.Z)({},c,{onClick:function(i){try{v&&v(i)}catch(p){throw i.preventDefault(),p}!i.defaultPrevented&&i.button===0&&(!u||u==="_self")&&!ee(i)&&(i.preventDefault(),o())}});return M!==y?l.ref=t||n:l.ref=n,d.createElement("a",l)}),re=y(function(r,t){var n=r.component,o=n===void 0?C:n,v=r.replace,c=r.to,u=r.innerRef,l=(0,A.Z)(r,["component","replace","to","innerRef"]);return d.createElement(P.s6.Consumer,null,function(e){e||(0,H.Z)(!1);var i=e.history,p=_(L(c,e.location),e.location),K=p?i.createHref(p):"",j=(0,T.Z)({},l,{href:K,navigate:function(){var U=L(c,e.location),R=v?i.replace:i.push;R(U)}});return M!==y?j.ref=t||u:j.innerRef=u,d.createElement(o,j)})});if(!1)var x,ie;var O=function(t){return t},w=d.forwardRef;typeof w=="undefined"&&(w=O);function I(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return t.filter(function(o){return o}).join(" ")}var Z=w(function(r,t){var n=r["aria-current"],o=n===void 0?"page":n,v=r.activeClassName,c=v===void 0?"active":v,u=r.activeStyle,l=r.className,e=r.exact,i=r.isActive,p=r.location,K=r.sensitive,j=r.strict,z=r.style,U=r.to,R=r.innerRef,W=(0,A.Z)(r,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return d.createElement(P.s6.Consumer,null,function(B){B||(0,H.Z)(!1);var m=p||B.location,h=_(L(U,m),m),$=h.pathname,J=$&&$.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),V=J?(0,P.LX)(m.pathname,{path:J,exact:e,sensitive:K,strict:j}):null,F=!!(i?i(V,m):V),Q=F?I(l,c):l,se=F?(0,T.Z)({},z,{},u):z,S=(0,T.Z)({"aria-current":F&&o||null,className:Q,style:se,to:h},W);return O!==w?S.ref=t||R:S.innerRef=R,d.createElement(re,S)})});if(!1)var X}}]);
