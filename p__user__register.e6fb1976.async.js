(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[803],{17052:function(j){j.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}},87909:function(j,g,r){"use strict";r.r(g),r.d(g,{default:function(){return _}});var d=r(13062),Z=r(71230),v=r(57663),B=r(60404),S=r(89032),M=r(15746),J=r(20136),q=r(19181),oe=r(34669),N=r(54458),Q=r(34792),I=r(48086),p=r(2824),ee=r(47673),y=r(1011),Y=r(43358),b=r(34041),ie=r(9715),O=r(93766),E=r(67294),w=r(21010),re=r(73727),se=r(3182),s=r(94043),t=r.n(s);function o(A){return i.apply(this,arguments)}function i(){return i=(0,se.Z)(t().mark(function A(P){return t().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,w.WY)("/api/register",{method:"POST",data:P}));case 1:case"end":return m.stop()}},A)})),i.apply(this,arguments)}var u=r(17052),n=r.n(u),e=r(85893),l=O.Z.Item,h=b.Z.Option,c=y.Z.Group,C={ok:(0,e.jsx)("div",{className:n().success,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,e.jsx)("div",{className:n().warning,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,e.jsx)("div",{className:n().error,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},K={ok:"success",pass:"normal",poor:"exception"},F=function(){var P=(0,E.useState)(0),U=(0,p.Z)(P,2),m=U[0],D=U[1],G=(0,E.useState)(!1),W=(0,p.Z)(G,2),T=W[0],z=W[1],$=(0,E.useState)("86"),H=(0,p.Z)($,2),k=H[0],V=H[1],ue=(0,E.useState)(!1),te=(0,p.Z)(ue,2),le=te[0],ce=te[1],de=!1,X,ve=O.Z.useForm(),fe=(0,p.Z)(ve,1),R=fe[0];(0,E.useEffect)(function(){return function(){clearInterval(X)}},[X]);var pe=function(){var a=59;D(a),X=window.setInterval(function(){a-=1,D(a),a===0&&clearInterval(X)},1e3)},ae=function(){var a=R.getFieldValue("password");return a&&a.length>9?"ok":a&&a.length>5?"pass":"poor"},ne=(0,w.QT)(o,{manual:!0,onSuccess:function(a,f){a.status==="ok"&&(I.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),w.m8.push({pathname:"/user/register-result",state:{account:f.email}}))}}),he=ne.loading,me=ne.run,ge=function(a){me(a)},Ee=function(a,f){var L=Promise;return f&&f!==R.getFieldValue("password")?L.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):L.resolve()},ye=function(a,f){var L=Promise;return f?(T||z(!!f),ce(!le),f.length<6?L.reject(""):(f&&de&&R.validateFields(["confirm"]),L.resolve())):(z(!!f),L.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"))},Ce=function(a){V(a)},Pe=function(){var a=R.getFieldValue("password"),f=ae();return a&&a.length?(0,e.jsx)("div",{className:n()["progress-".concat(f)],children:(0,e.jsx)(N.Z,{status:K[f],className:n().progress,strokeWidth:6,percent:a.length*10>100?100:a.length*10,showInfo:!1})}):null};return(0,e.jsxs)("div",{className:n().main,children:[(0,e.jsx)("h3",{children:"\u6CE8\u518C"}),(0,e.jsxs)(O.Z,{form:R,name:"UserRegister",onFinish:ge,children:[(0,e.jsx)(l,{name:"mail",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,e.jsx)(y.Z,{size:"large",placeholder:"\u90AE\u7BB1"})}),(0,e.jsx)(q.Z,{getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},content:T&&(0,e.jsxs)("div",{style:{padding:"4px 0"},children:[C[ae()],Pe(),(0,e.jsx)("div",{style:{marginTop:10},children:(0,e.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",visible:T,children:(0,e.jsx)(l,{name:"password",className:R.getFieldValue("password")&&R.getFieldValue("password").length>0&&n().password,rules:[{validator:ye}],children:(0,e.jsx)(y.Z,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})}),(0,e.jsx)(l,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:Ee}],children:(0,e.jsx)(y.Z,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,e.jsxs)(c,{compact:!0,children:[(0,e.jsxs)(b.Z,{size:"large",value:k,onChange:Ce,style:{width:"20%"},children:[(0,e.jsx)(h,{value:"86",children:"+86"}),(0,e.jsx)(h,{value:"87",children:"+87"})]}),(0,e.jsx)(l,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,e.jsx)(y.Z,{size:"large",placeholder:"\u624B\u673A\u53F7"})})]}),(0,e.jsxs)(Z.Z,{gutter:8,children:[(0,e.jsx)(M.Z,{span:16,children:(0,e.jsx)(l,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,e.jsx)(y.Z,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"})})}),(0,e.jsx)(M.Z,{span:8,children:(0,e.jsx)(B.Z,{size:"large",disabled:!!m,className:n().getCaptcha,onClick:pe,children:m?"".concat(m," s"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]}),(0,e.jsxs)(l,{children:[(0,e.jsx)(B.Z,{size:"large",loading:he,className:n().submit,type:"primary",htmlType:"submit",children:(0,e.jsx)("span",{children:"\u6CE8\u518C"})}),(0,e.jsx)(re.rU,{className:n().login,to:"/user/login",children:(0,e.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})]})]})},_=F},15746:function(j,g,r){"use strict";var d=r(21584);g.Z=d.Z},89032:function(j,g,r){"use strict";var d=r(38663),Z=r.n(d),v=r(6999)},71230:function(j,g,r){"use strict";var d=r(92820);g.Z=d.Z},13062:function(j,g,r){"use strict";var d=r(38663),Z=r.n(d),v=r(6999)},73727:function(j,g,r){"use strict";r.d(g,{rU:function(){return Y}});var d=r(43934),Z=r(41788),v=r(67294),B=r(97175),S=r(22122),M=r(19756),J=r(2177),q=function(s){(0,Z.Z)(t,s);function t(){for(var i,u=arguments.length,n=new Array(u),e=0;e<u;e++)n[e]=arguments[e];return i=s.call.apply(s,[this].concat(n))||this,i.history=(0,B.lX)(i.props),i}var o=t.prototype;return o.render=function(){return v.createElement(d.F0,{history:this.history,children:this.props.children})},t}(v.Component),oe=function(s){(0,Z.Z)(t,s);function t(){for(var i,u=arguments.length,n=new Array(u),e=0;e<u;e++)n[e]=arguments[e];return i=s.call.apply(s,[this].concat(n))||this,i.history=(0,B.q_)(i.props),i}var o=t.prototype;return o.render=function(){return v.createElement(d.F0,{history:this.history,children:this.props.children})},t}(v.Component),N=function(t,o){return typeof t=="function"?t(o):t},Q=function(t,o){return typeof t=="string"?(0,B.ob)(t,null,null,o):t},I=function(t){return t},p=v.forwardRef;typeof p=="undefined"&&(p=I);function ee(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}var y=p(function(s,t){var o=s.innerRef,i=s.navigate,u=s.onClick,n=(0,M.Z)(s,["innerRef","navigate","onClick"]),e=n.target,l=(0,S.Z)({},n,{onClick:function(c){try{u&&u(c)}catch(C){throw c.preventDefault(),C}!c.defaultPrevented&&c.button===0&&(!e||e==="_self")&&!ee(c)&&(c.preventDefault(),i())}});return I!==p?l.ref=t||o:l.ref=o,v.createElement("a",l)}),Y=p(function(s,t){var o=s.component,i=o===void 0?y:o,u=s.replace,n=s.to,e=s.innerRef,l=(0,M.Z)(s,["component","replace","to","innerRef"]);return v.createElement(d.s6.Consumer,null,function(h){h||(0,J.Z)(!1);var c=h.history,C=Q(N(n,h.location),h.location),K=C?c.createHref(C):"",F=(0,S.Z)({},l,{href:K,navigate:function(){var A=N(n,h.location),P=u?c.replace:c.push;P(A)}});return I!==p?F.ref=t||e:F.innerRef=e,v.createElement(i,F)})});if(!1)var b,ie;var O=function(t){return t},E=v.forwardRef;typeof E=="undefined"&&(E=O);function w(){for(var s=arguments.length,t=new Array(s),o=0;o<s;o++)t[o]=arguments[o];return t.filter(function(i){return i}).join(" ")}var re=E(function(s,t){var o=s["aria-current"],i=o===void 0?"page":o,u=s.activeClassName,n=u===void 0?"active":u,e=s.activeStyle,l=s.className,h=s.exact,c=s.isActive,C=s.location,K=s.sensitive,F=s.strict,_=s.style,A=s.to,P=s.innerRef,U=(0,M.Z)(s,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return v.createElement(d.s6.Consumer,null,function(m){m||(0,J.Z)(!1);var D=C||m.location,G=Q(N(A,D),D),W=G.pathname,T=W&&W.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),z=T?(0,d.LX)(D.pathname,{path:T,exact:h,sensitive:K,strict:F}):null,$=!!(c?c(z,D):z),H=$?w(l,n):l,k=$?(0,S.Z)({},_,{},e):_,V=(0,S.Z)({"aria-current":$&&i||null,className:H,style:k,to:G},U);return O!==E?V.ref=t||P:V.innerRef=P,v.createElement(Y,V)})});if(!1)var se}}]);
